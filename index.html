<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>INCOGNITO INVESTIGATION - Crossword Puzzle</title>
    <style>
        /* Preloader Styles */
        #preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to right, #1a1a2e, #16213e, #0f3460);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        #preloader h1 {
            font-size: 4rem;
            font-weight: bold;
            color: rgb(216, 199, 225);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            animation: fadeInOut 2s infinite;
        }
        @keyframes fadeInOut {
            0%, 100% { opacity: 0; }
            50% { opacity: 1; }
        }


        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(to right, #112458, #362753, #0f1c27);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #e0e0e0;
            opacity: 0;
            animation: fadeIn 1s forwards;
        }
        @keyframes fadeIn {
            to { opacity: 1; }
        }

        h1, h2 {
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        h1 {
            font-size: 3rem;
            margin-bottom: 10px;
        }
        h2 {
            font-size: 2rem;
            margin-bottom: 30px;
        }
        #crossword {
            display: grid;
            grid-template-columns: repeat(11, 30px);
            grid-template-rows: repeat(18, 30px);
            gap: 4px;
            margin: 20px 0;
            background-color: rgba(255, 255, 255, 0.1);
            padding: 10px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }

        .cell-container {
            position: relative;
            width: 30px;
            height: 30px;
        }
        .clue-number {
            position: absolute;
            top: 2px;
            left: 2px;
            z-index: 1;
            pointer-events: none;
            color: black;
        }
        .cell {
            width: 100%;
            height: 100%;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            border: 1px solid #000;
            background-color: #fff;
            box-sizing: border-box;
            color: #000000;
            box-sizing: border-box;
        }
        .cell:focus {
            outline: 2px solid #007bff;
            z-index: 2;
        }
        .black-square {
            background-color: rgb(31, 3, 31);
        }
        #clues {
            display: flex;
            justify-content: space-between;
            width: 90%;
            max-width: 1000px;
            margin-top: 10px;
            
        }
        #across-box, #down-box {
            width: 48%;
            background-color: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            margin-left: 10px;
        }
        h5 {
            margin-top: 0%;
            color: #ffffff;
            font-size: 20px;
            margin-bottom: 10px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        ol {
            list-style-type: none;
            padding: 0;
        }
        li {
            margin-bottom: 10px;
            font-size: 16px;
            line-height: 1.5;
            color: white;
        }
    </style>
</head>
<body>
    <!-- Preloader -->
    <div id="preloader">
        <h1>CROSSWORD</h1>
    </div>


    <h1>INCOGNITO INVESTIGATION</h1>
    <h2>CROSSWORD PUZZLE</h2>
    <div id="crossword"></div>
    <div id="clues">
        <div id="across-box">
            <h5>Across</h5>
            <ol id="across">
                <li><strong>3.</strong> I’m the eyes that never blink, the memory that never fades. I hold the key to justice, yet I’m powerless without a voice.</li>
                <li><strong>5.</strong> I always leave a mark, but I never say a word. Sometimes I’m smudged, sometimes I’m clear, but when I show up, the cops cheer.</li>
                <li><strong>8.</strong> I talk in numbers, whisper in lines, decode me right, and you'll see the signs.</li>
                <li><strong>10.</strong> I go off with a bang but never return, if I miss, your luck might turn.</li>
            </ol>
        </div>
        <div id="down-box">
            <h5>Down</h5>
            <ol id="down">
                <li><strong>1.</strong> I keep the beat but never dance, if I stop, you’ve lost your chance.</li>
                <li><strong>2.</strong> I’m the alchemist’s paradox—a cure’s dark twin, hiding in plain sight.</li>
                <li><strong>4.</strong> I have eyes but never blink, I see it all but never think.</li>
                <li><strong>6.</strong> I’m hard to find, easy to fake, without me, the case is at stake.</li>
                <li><strong>7.</strong> The crime-solving canine with a knack for snacks.</li>
                <li><strong>9.</strong> I am the phantom in the labyrinth of truth—sought by many, grasped by few. I’m not the cipher, but the key to its code; not the crime, but the shadow it casts.</li>
            </ol>
        </div>
    </div>

    <script>
        // Preloader Logic
        window.addEventListener('load', () => {
            const preloader = document.getElementById('preloader');
            setTimeout(() => {
                preloader.style.opacity = '0';
                setTimeout(() => {
                    preloader.style.display = 'none';
                    document.body.style.opacity = '1';
                }, 600); // Fade out duration
            }, 2200); // Preloader display duration
        });

        const solutionGrid = [
            [null, null, null, null, null, null, null, {solution: 'P', number: 1}, null, null, null],
            [null, null, null, null, {solution: 'P', number: 2}, null, null, {solution: 'A'}, null, null, null],
            [null, null, null, null, {solution: 'O'}, null, null, {solution: 'C'}, null, null, null],
            [null, null, null, {solution: 'W', number: 3}, {solution: 'I'}, {solution: 'T'}, {solution: 'N'}, {solution: 'E'}, {solution: 'S'}, {solution: 'S'}, null],
            [null, null, null, null, {solution: 'S'}, null, null, {solution: 'M'}, null, null, null],
            [null, null, null, null, {solution: 'O'}, null, null, {solution: 'A'}, null, null, null],
            [null, null, null, null, {solution: 'N'}, null, null, {solution: 'K'}, null, null, {solution: 'C', number: 4}],
            [null, null, null, null, null, null, null, {solution: 'E'}, null, null, {solution: 'C'}],
            [{solution: 'F', number: 5}, {solution: 'I'}, {solution: 'N'}, {solution: 'G'}, {solution: 'E', number: 6}, {solution: 'R'}, {solution: 'P'}, {solution: 'R'}, {solution: 'I'}, {solution: 'N'}, {solution: 'T'}],
            [null, null, null, null, {solution: 'V'}, null, null, null, null, null, {solution: 'V'}],
            [null, null, null, null, {solution: 'I'}, null, null, null, null, null, null],
            [{solution: 'S', number: 7}, null, null, null, {solution: 'D'}, null, null, null, null, null, null],
            [{solution: 'C', number: 8}, {solution: 'I'}, {solution: 'P'}, {solution: 'H'}, {solution: 'E'}, {solution: 'R'}, null, null, null, null, null],
            [{solution: 'O'}, null, null, null, {solution: 'N'}, null, null, null, null, null, null],
            [{solution: 'O'}, null, {solution: 'C', number:9}, null, {solution: 'C'}, null, null, null, null, null, null],
            [{solution: 'B', number: 10}, {solution: 'U'}, {solution: 'L'}, {solution: 'L'}, {solution: 'E'}, {solution: 'T'}, null, null, null, null, null],
            [{solution: 'Y'}, null, {solution: 'U'}, null, null, null, null, null, null, null, null],
            [null, null, {solution: 'E'}, null, null, null, null, null, null, null, null]
        ];

        const crosswordElement = document.getElementById('crossword');
        
        // Create crossword grid
        solutionGrid.forEach((row, rowIndex) => {
            row.forEach((cellData, colIndex) => {
                if (cellData === null) {
                    const div = document.createElement('div');
                    div.className = 'black-square';
                    crosswordElement.appendChild(div);
                } else {
                    const container = document.createElement('div');
                    container.className = 'cell-container';
                    
                    if (cellData.number) {
                        const number = document.createElement('span');
                        number.className = 'clue-number';
                        number.textContent = cellData.number;
                        container.appendChild(number);
                    }

                    const input = document.createElement('input');
                    input.className = 'cell';
                    input.dataset.row = rowIndex;
                    input.dataset.col = colIndex;
                    input.dataset.solution = cellData.solution;
                    input.maxLength = 1;

                    input.addEventListener('input', (e) => {
                        const entered = e.target.value.toUpperCase();
                        const solution = e.target.dataset.solution;
                        
                        if (entered === solution) {
                            e.target.style.backgroundColor = '#e0ffe0';
                        } else {
                            e.target.style.backgroundColor = '#ffe0e0';
                        }

                        // Determine the direction of the current clue
                        const direction = getCurrentDirection(e.target);

                        // Move focus to the next cell based on the direction
                        if (entered.length === 1) {
                            let nextCell;
                            if (direction === 'across') {
                                if (colIndex < 10) {
                                    nextCell = crosswordElement.querySelector(
                                        `.cell[data-row="${rowIndex}"][data-col="${colIndex + 1}"]`
                                    );
                                }
                            } else if (direction === 'down') {
                                if (rowIndex < 17) {
                                    nextCell = crosswordElement.querySelector(
                                        `.cell[data-row="${rowIndex + 1}"][data-col="${colIndex}"]`
                                    );
                                }
                            }
                            if (nextCell) nextCell.focus();
                        }

                        // Check if all answers are correct
                        if (checkAllAnswers()) {
                            alert('Congratulations! You have solved the crossword puzzle!');
                        }
                    });

                    container.appendChild(input);
                    crosswordElement.appendChild(container);
                }
            });
        });

        // Function to check if all answers are correct
        function checkAllAnswers() {
            const cells = document.querySelectorAll('.cell');
            for (const cell of cells) {
                if (cell.value.toUpperCase() !== cell.dataset.solution) {
                    return false;
                }
            }
            return true;
        }

        // Function to determine the direction of the current clue
        function getCurrentDirection(cell) {
            const row = parseInt(cell.dataset.row);
            const col = parseInt(cell.dataset.col);

            // Check if the next cell in the row is part of the same clue (Across)
            const nextCellAcross = crosswordElement.querySelector(
                `.cell[data-row="${row}"][data-col="${col + 1}"]`
            );
            if (nextCellAcross && nextCellAcross.dataset.solution) {
                return 'across';
            }

            // Check if the next cell in the column is part of the same clue (Down)
            const nextCellDown = crosswordElement.querySelector(
                `.cell[data-row="${row + 1}"][data-col="${col}"]`
            );
            if (nextCellDown && nextCellDown.dataset.solution) {
                return 'down';
            }

            // Default to Across if no direction is determined
            return 'across';
        }
    </script>
</body>
</html>
